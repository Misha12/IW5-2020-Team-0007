@model MovieDatabase.Web.ViewModels.MovieListViewModel
<p class="Page-Title">Movies</p>
@if (User.Claims.Count() != 0 && (User.FindFirst(ClaimTypes.Role).Value == "Administrator" || User.FindFirst(ClaimTypes.Role).Value == "ContentManager"))
{
    <a class="btn btn-primary" asp-area="" asp-controller="Movie" asp-action="New">Create movie</a>
}
<hr />
<table class="List">
    <tr>
        <th> </th>
        <th>Title</th>
        <th>Length</th>
    </tr>
    @{
        foreach (var user in Model.listMovie.Data)
        {
            <partial name="_MovieListItem" model="user" />
        } }


</table>
<div class="page-switcher">
    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
            @{int temp = @Model.listMovie.Page - 1;
                if (Model.listMovie.CanPrev)
                {
                    <li class="page-item">
                        <form asp-controller="Movie" asp-action="List" method="post" role="form">
                            <input class="Login-input" type="hidden" name="page" value="@temp" />
                            <button type="submit" class="page-link" href="#">Previous</button>
                        </form>
                    </li>



                    <li class="page-item">
                        <form asp-controller="Movie" asp-action="List" method="post" role="form">
                            <input class="Login-input" type="hidden" name="page" value="@temp" />
                            <button type="submit" class="page-link" href="#">@temp</button>
                        </form>
                    </li>
                }
                else
                {
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1">Previous</a>
                    </li>
                }
            }
            <li class="page-item">
                <a class="page-link" href="#">@Model.listMovie.Page</a>
            </li>
            @{temp = @Model.listMovie.Page + 1;
                if (Model.listMovie.CanNext)
                {
                    <li class="page-item">
                        <form asp-controller="Movie" asp-action="List" method="post" role="form">
                            <input class="Login-input" type="hidden" name="page" value="@temp" />
                            <button type="submit" class="page-link" href="#">@temp</button>
                        </form>
                    </li>
                    <li class="page-item">
                        <form asp-controller="Movie" asp-action="List" method="post" role="form">
                            <input class="Login-input" type="hidden" name="page" value="@temp" />
                            <button type="submit" class="page-link" href="#">Next</button>
                        </form>
                    </li>
                }
                else
                {
                    <li class="page-item disabled">
                        <a class="page-link" href="#">Next</a>
                    </li>
                }
            }
        </ul>
    </nav>
</div>

