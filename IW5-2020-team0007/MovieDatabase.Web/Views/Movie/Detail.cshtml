@model MovieDatabase.Web.ViewModels.MovieDetailViewModel

@{
    ViewData["Title"] = "Detail";
}

@{string disabled;
    if (User.Claims.Count() != 0 && (User.FindFirst(ClaimTypes.Role).Value == "Administrator" || User.FindFirst(ClaimTypes.Role).Value == "ContentManager"))
    {
        disabled = "";
    }
    else
    {
        disabled = "disabled";
    }
}
<form asp-controller="Movie" asp-action="UpdateMovie" method="post" role="form">
    <input @disabled class="Page-Title Detail-input" type="text" name="MovieRequest.OriginalName" value="@Model.DetailMovieModel.OriginalName" placeholder="Original name" />
    <input type="hidden" name="ID" value="@Model.DetailMovieModel.Id" />


    <div class="Detail-info">
        <div class="Detail-info-photo">
            <img class="Detail-info-photo-img " src="@Model.DetailMovieModel.TitleImageUrl" />
        </div>
        <div class="Detail-info-basic">
            @if (disabled == "")
            {
                <div class="Detail-info-row">
                    <text class="Detail-info-row-caption">Image URL:</text>
                    <input @disabled class="Detail-input" type="url" name="MovieRequest.TitleImageUrl" value="@Model.DetailMovieModel.TitleImageUrl" placeholder="URL of image" />
                </div>
            }
            <div class="Detail-info-row">
                <text class="Detail-info-row-caption">Country:</text>
                <input @disabled class="Detail-input" type="text" maxlength="5" name="MovieRequest.Country" value="@Model.DetailMovieModel.Country" placeholder="Country" />
            </div>
            <div class="Detail-info-row">
                <text class="Detail-info-row-caption">Created year:</text>
                <input @disabled class="Detail-input" type="number" name="MovieRequest.CreatedYear" value="@Model.DetailMovieModel.CreatedYear" placeholder="Year created" />
            </div>
            <div class="Detail-info-row">
                <text class="Detail-info-row-caption">Length of movie:</text>
                <input @disabled class="Detail-input" type="number" name="MovieRequest.Length" placeholder="@Model.DetailMovieModel.Length" />
            </div>
            @if (disabled == "")
            {
                <input type="submit" class="btn btn-primary" value="Submit" />
            }
        </div>
    </div>
</form>
<p>
    @foreach (var actor in Model.DetailMovieModel.Actors)
    {
        <text>@actor</text>
    }
</p>
<p>
    @foreach (var director in Model.DetailMovieModel.Directors)
    {
        <text>@director</text>
    }
</p>
<p>
    @foreach (var Genres in Model.DetailMovieModel.Genres)
    {
        <text>@Genres</text>
    }
</p>
<p>
    @foreach (var rating in Model.ListRatingModel.Data)
    {
        <text>@rating.Author wrote:\n</text>
        <text>@rating.Text</text>
        <text>@rating.Score</text>
    }
</p>
<div class="page-switcher">
    <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
            @{int temp = @Model.ListRatingModel.Page - 1;
                if (Model.ListRatingModel.CanPrev)
                {
                    <li class="page-item">
                        <form asp-controller="Movie" asp-action="Detail" method="post" role="form">
                            <input type="hidden" name="ID" value="@Model.DetailMovieModel.Id" />
                            <input class="Login-input" type="hidden" name="page" value="@temp" />
                            <button type="submit" class="page-link" href="#">Previous</button>
                        </form>
                    </li>



                    <li class="page-item">
                        <form asp-controller="Movie" asp-action="Detail" method="post" role="form">
                            <input type="hidden" name="ID" value="@Model.DetailMovieModel.Id" />
                            <input class="Login-input" type="hidden" name="page" value="@temp" />
                            <button type="submit" class="page-link" href="#">@temp</button>
                        </form>
                    </li>
                }
                else
                {
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1">Previous</a>
                    </li>
                }
            }
            <li class="page-item">
                <a class="page-link" href="#">@Model.ListRatingModel.Page</a>
            </li>
            @{temp = @Model.ListRatingModel.Page + 1;
                if (Model.ListRatingModel.CanNext)
                {
                    <li class="page-item">
                        <form asp-controller="Movie" asp-action="Detail" method="post" role="form">
                            <input type="hidden" name="ID" value="@Model.DetailMovieModel.Id" />
                            <input class="Login-input" type="hidden" name="page" value="@temp" />
                            <button type="submit" class="page-link" href="#">@temp</button>
                        </form>
                    </li>
                    <li class="page-item">
                        <form asp-controller="Movie" asp-action="Detail" method="post" role="form">
                            <input type="hidden" name="ID" value="@Model.DetailMovieModel.Id" />
                            <input class="Login-input" type="hidden" name="page" value="@temp" />
                            <button type="submit" class="page-link" href="#">Next</button>
                        </form>
                    </li>
                }
                else
                {
                    <li class="page-item disabled">
                        <a class="page-link" href="#">Next</a>
                    </li>
                }
            }
        </ul>
    </nav>
</div>